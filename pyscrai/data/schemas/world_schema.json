{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://pyscrai.dev/schemas/world.json",
  "title": "PyScrAI World Schema",
  "description": "Schema for .WORLD files - immutable base world definitions",
  "type": "object",
  "required": ["world_id", "name", "era", "geography", "infrastructure"],
  "properties": {
    "world_id": {
      "type": "string",
      "description": "Unique identifier for this world"
    },
    "name": {
      "type": "string",
      "description": "Human-readable name"
    },
    "version": {
      "type": "string",
      "default": "1.0.0"
    },
    "era": {
      "type": "object",
      "required": ["year", "period"],
      "properties": {
        "year": { "type": "integer" },
        "period": { "type": "string", "enum": ["prehistoric", "ancient", "medieval", "industrial", "modern", "future"] },
        "technology_level": { "type": "integer", "minimum": 1, "maximum": 10 }
      }
    },
    "geography": {
      "type": "object",
      "properties": {
        "regions": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["region_id", "name", "type"],
            "properties": {
              "region_id": { "type": "string" },
              "name": { "type": "string" },
              "type": { "type": "string" },
              "coordinates": {
                "type": "object",
                "properties": {
                  "lat": { "type": "number" },
                  "lon": { "type": "number" }
                }
              },
              "climate": { "type": "string" }
            }
          }
        }
      }
    },
    "infrastructure": {
      "type": "object",
      "properties": {
        "asset_types": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["type_id", "name", "category"],
            "properties": {
              "type_id": { "type": "string" },
              "name": { "type": "string" },
              "category": { "type": "string" },
              "attributes_schema": { "type": "object" }
            }
          }
        }
      }
    },
    "actor_templates": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["template_id", "role", "resolution"],
        "properties": {
          "template_id": { "type": "string" },
          "role": { "type": "string" },
          "resolution": { "type": "string", "enum": ["macro", "micro"] },
          "default_objectives": { "type": "array", "items": { "type": "string" } }
        }
      }
    },
    "rules": {
      "type": "object",
      "properties": {
        "physics": { "type": "object" },
        "economics": { "type": "object" },
        "social": { "type": "object" }
      }
    }
  }
}
